{% extends 'quiz/base.html' %}

{% block title %}<title>{{ question.pk }}</title>{% endblock %}

{% block body %}
    <div class="content-section">
        <article class="card">
        <img class="rounded-circle article-img" style="margin: 2px;" src="{{ object.author.profile.image.url }}">
          <div class="media-body">
            <div class="article-metadata">
              <a class="" style="margin: 2px;" href="{% url 'user-profile' %}">{{ object.author }}</a>
              <small class="text-muted">{{ object.created|date:"F d, Y" }}</small>
                {% if object.author == user %}
                    <div class="">
                    <a class="btn btn-secondary btn-sn mt-1 mb-1" style="margin: 2px;" href="{% url 'quiz:question-update' object.id %}">Update</a>
                    <a class="btn btn-danger btn-sn mt-1 mb-1" style="margin: 2px;" href="{% url 'quiz:comment-delete' object.id %}">Delete</a>
                    </div>
                {% endif %}
            </div>

            <h2 class="article-title" style="margin: 2px;">{{ object.title }}</h2>
            <p class="article-content" style="margin: 2px;">{{ object.content }}</p>

          {% if object.comment_set %}
              <div class="article-metadata">
              <br>
              <h5 class="text-primary text-outline-info" style="margin: 2px;">Comments: {{ object.comment_set.count }}</h5>
          </div>
              {% for i in object.comment_set.all %}

                  <p style="margin: 2px;">{{ i.comment }} - <a class="mr-2" href="{% url 'user-profile' %}">{{ i.author }}</a></p>


                  {% if i.image %}
                  <img class="img img-thumbnail" style="height: 500px; width: 750px ;" src="{{ i.image.url }}">
                  {% endif %}


                  {% if object.author == user %}
                    <div class="">
                    <a class="btn btn-secondary btn-sn mt-1 mb-1" href="{% url 'quiz:comment-update' object.id %}">Update</a>
                    <a class="btn btn-danger btn-sn mt-1 mb-1" href="{% url 'quiz:comment-delete' object.id %}">Delete</a>
                    </div>
                {% endif %}

              {% endfor %}

          {% endif %}

          <div>
            <a class="btn btn-outline-primary btn-sn mt-1 mb-1" style="margin: 5px;" href="{% url 'quiz:question-comment' object.id %}">Comment</a>
        </div>
          </div>
     </article>
    </div>
{% endblock %}

